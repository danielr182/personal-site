<nav
  class="fixed z-10 flex h-16 w-full justify-between px-6 transition-all duration-300 sm:justify-around"
  [ngClass]="{
    'mt-7': prevScrollpos === 0,
    '-translate-y-16': !isNavbarDisplayed,
    'bg-main shadow-[0px_4px_10px_-2px] shadow-gray-950':
      isNavbarDisplayed && prevScrollpos > 0
  }"
>
  <a class="z-20 my-2">
    <img
      src="/assets/icons/logo-dr.svg"
      (click)="gotoSection()"
      class="h-full cursor-pointer transition-all hover:scale-125"
    />
  </a>
  <ul class="z-10 hidden items-center text-primary sm:flex">
    <ng-container *ngTemplateOutlet="navOptions"></ng-container>
  </ul>
  <div class="flex h-full items-center">
    <a class="btn-primary hidden h-fit cursor-pointer sm:inline-block"
      >Resume</a
    >
    <a
      (click)="setNavbarCollapsed(!isSideNavbarCollapsed)"
      class="relative z-50 flex h-full w-10 sm:hidden"
    >
      <img
        class="nav-action-icon scale-[2]"
        [ngClass]="{ 'scale-y-0 opacity-0': !isSideNavbarCollapsed }"
        src="/assets/icons/menu.svg"
      />
      <img
        class="nav-action-icon scale-75"
        [ngClass]="{ 'rotate-180 opacity-0': isSideNavbarCollapsed }"
        src="/assets/icons/close.svg"
      />
    </a>
  </div>
  <div
    class="side-menu fixed bottom-0 right-0 top-0 z-20 flex h-screen w-72 translate-x-72 flex-col bg-mainAlt transition-all duration-500 sm:hidden"
    [ngClass]="{ 'translate-x-0 blur-none': !isSideNavbarCollapsed }"
    (appClickOutside)="onOutsideMenuClick()"
  >
    <ul class="flex h-full flex-col justify-center gap-8 text-primary">
      <ng-container *ngTemplateOutlet="navOptions"></ng-container>
      <div class="mt-20 text-center">
        <a class="btn-primary cursor-pointer">Resume</a>
      </div>
    </ul>
  </div>
  <div
    class="fixed left-0 top-0 z-10 size-full bg-black/10 opacity-0 transition-all sm:hidden"
    [ngClass]="{ 'opacity-100 backdrop-blur-sm': !isSideNavbarCollapsed }"
  ></div>
</nav>

<ng-template #navOptions>
  @for (option of options; track $index) {
    <li class="relative mx-4 text-center">
      <a class="nav-option" (click)="gotoSection(option.elementId)">{{
        option.label
      }}</a>
    </li>
  }
</ng-template>
